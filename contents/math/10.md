### 概率试验

- 1.投掷一个骰子投掷5次
- 2.某人射击1次，击中目标的概率是0.8, 他射击10次；
- 3.一个盒子中装有5个球(3红2白)，有放回依次从中抽取5个球
- 4.生产一种零件，出现次品的概率是0.04，生产这种零件4件

以上这些的**特点**都是：

- **条件相同**
- **独立重复性试验**
- **发生或者不发生**
- **发生的概率相同**

**例子**

投掷一枚图钉，设针尖向上的概率为p, 则针尖向下的概率为q = 1 - p. 连续投掷一枚图钉3次，仅出现1次针尖向上的概率是多少？

分析：这是一个条件相同，独立重复性试验：$P = C_3^1 p q^2 = 3 p q^2$

扩展：如果连续投3次图钉，出现k(0 <= k <= 3)次针尖向上的概率是多少?

- 出现0次：$P(B_0) = P(\bar{A_1} \bar{A_2} \bar{A_3}) = q^3$
- 出现1次：$P(B_1) = P(A_1\bar{A_2}\bar{A_3}) + P(\bar{A_1}A_2\bar{A_3}) + P(\bar{A_1}\bar{A_2}A_3) = 3q^2p$
- 出现2次：$P(B_2) = P(A_1A_2\bar{A_3}) + P(\bar{A_1}A_2A_3) + P(A_1\bar{A_2}A_3) = 3qp^2$
- 出现3次：$P(A_1A_2A_3) = p^3$
- 总结：$P(B_k) = C_3^kp^kq^{3-k}, k=0,1,2,3$

### 伯努利分布

- 伯努利分布(Bernoulli distribution) 又名两点分布或0-1分布，介绍伯努利分布前首先需要引入伯努利试验(Bernoulli trial)
- 伯努利试验是只有两种可能结果的单次随机试验，即对于一个随机变量X而言：伯努利试验都可以表达为"是或否"的问题
- 例如：抛一次硬币是正面朝上吗？刚出生的孩子是男孩吗?等
- 如果试验E是一个伯努利试验，将E独立重复进行n次，则称这一串重复的独立试验为n重伯努利试验
- 进行一次伯努利试验，成功(X=1)概率为p(0 <= p <= 1), 失败(X=0)概率为1-p，则称随机变量X服从伯努利分布，伯努利分布是离散型概率分布

### 二项分布

- 在n次独立重复试验中，设事件A发生的次数是X, 且在每次试验中事件A发生的概率是p, 那么事件A恰好发生k次的概率是 $P(X=k) = C_n^kp^k(1-p)^{n-k}, k = 0, 1, 2, ..., n$
- 于是得到随机变量X的概率分布如下：q = 1 - p
    * X: 0, 1, ..., k, ..., n
    * p: $C_n^0p^0q^n, C_n^1p^1q^{n-1}, ..., C_n^kp^kq^{n-k}, ..., C_n^np^nq^0$
    * 此时我们称随机变量X服从二项分布，记为：$X \sim B(n,p)$ 其中p为成功概率
    * $\sum_{k=0}^n C_n^kp^k(1-p)^{n-k} = 1$ 全概率 求和是必然事件，概率为1

**案例1**

- 某射手每次射击击中目标的概率是0.8， 求这名射手在10次射击中
- (1) 恰好有8次击中目标的概率
- (2) 至少有8次击中目标的概率

分析：
- (0) $p=0.8, 1 - p = 0.2, n = 10$
- (1) $C_10^8p^8(1-p)^2$
- (2) $p(8)+p(9)+p(10) = C_{10}^8p^8(1-p)^2 + C_{10}^9p^9(1-p) + C_{10}^{10}p^{10}$
- 将(0)带入(1)、(2) 得到最终的解

**案例2**

- 设一个射手平均每设计10次中靶4次，求在5次射击中
- (1)击中1次
- (2)第二次击中
- (3)击中两次
- (4)第二、三两次击中
- (5)至少击中一次
- 求以上的概率

分析：
- 由题意：射手射击1次，中靶的概率是0.4
- (1) n=5, k=1, 则 $P(X = 1) = C_5^1p(1-p)^4$
- (2) 第二次击中和其他几次击中没有任何关系，也就是他一次击中的概率即为0.4
- (3) n=5, k=2, 则 $P(X = 2) = C_5^2p(1-p)^3$
- (4) 只和第2,3次有关和其他无关,则概率为0.4*0.4
- (5) 有两种方法，正面求解相加，也可以从反面来推，推荐从反面求解，【1 - 没有击中一次的概率】: $1 - C_5^0p^0(1-p)^5$

### 二项式定理

- 二项展开公式 $(a+b)^n = C_n^0a^n + C_n^1a^{n-1}b + C_n^2a^{n-2}b^2 + ... + C_n^ra^{n-r}b^r + ... + C_n^nb^n \ \ (n \in N_+)$
- 二项展开式的通项公式：$T_{r+1} = C_n^ra^{n-r}b^r \ \ \ \ (0 \leq r \leq n , r \in N, n \in N_+)$, 主要用来求指定的项
- 项的系数与二项式系数
    * 项的系数与二项式系数是不同的两个概念，但当二项式的两个项的系数都为1时，系数就是二项式系数，如
    * 在$(ax+b)^n$的展开式中，第r+1项的二项式系数为$C_n^r$
    * 第r+1项的系数为$C_n^ra^{n-r}b^r$
    * 而$(x+\frac{1}{x})^n$的展开式中的系数等于二项式系数
    * 二项式系数是组合数，一定为正的；而项的系数不一定为正的
- $(1+x)^n$的展开式：$(1+x)^n = C_n^0x^n + C_n^1x^{n-1} + C_n^2x^{n-2} + ... + C_n^nx^0$
    * 若令x=1, 则有：$(1+1)^n = 2^n = C_n^0 + C_n^1 + C_n^2+ ... + C_n^n$
    * 二项式奇数项系数的和等于二项式偶数项系数的和.
    * 即：$C_n^0 + C_n^2 + ... = C_n^1 + C_n^3 + ... = 2^{n-1}$
- 二项式系数的性质
    * **对称性**： 与首末两端"等距离"的两个二项式系数相等，即$C_n^m = C_n^{n-m}$
    * **增减性与最大值**：
        * 当$r \leq \frac{n+1}{2}$时，二项式系数$C_n^r$的值逐渐增大，当$r \geq \frac{n+1}{2}$时，$C_n^r$的值逐渐减少，且在中间取得最大值
        * 当n为偶数时，中间一项(第$\frac{n}{2} + 1$项)的二项式系数$C_n^{\frac{n}{2}}$取得最大值
        * 当n为奇数时，中间两项(第$\frac{n+1}{2}$和第$\frac{n+1}{2} + 1$项)的二项式系数$C_n^{\frac{n-1}{2}} = C_n^{\frac{n+1}{2}}$相等并同时取最大值
- 系数最大项的求法
    * 设第r项的系数$A_r$最大，由不等式组$\left\{\begin{aligned}A_r \geq A_{r-1} \\A_r \geq A_{r+1}\end{aligned}\right.$可确定r

- 赋值法
    * 若$(ax+b)^n = a_0 + a_1x + a_2x^2 + ... + a_nx^n$, 则设$f(x) = (ax+b)^n$, 有
    * $a_0 = f(0)$
    * $a_0 + a_1 + a_2 + ... + a_n = f(1)$
    * $a_0 - a_1 + a_2 - a_3 + ... + (-1)^na_n = f(-1)$
    * $a_0 + a_2 + a_4 + a_6 + ... = \frac{f(1) + f(-1)}{2}$
    * $a_1 + a_3 + a_5 + a_7 + ... = \frac{f(1) - f(-1)}{2}$

### 从二项分布到二项式定理

1） **二项式定理公式**

- $(a+b)^n = C_n^0a^nb^0 + C_n^1a^{n-1}b^1 + ... + C_n^ra^{n-r}b^r + ... + C_n^nb^na^0 = \sum_{r=0}^n C_n^ra^{n-r}b^r$
- 写成p,q的形式为：$(p+q)^n = C_n^0p^nq^0 + C_n^1p^{n-1}q^1 + ... + C_n^rp^{n-r}q^r + ... + C_n^np^nq^0$

2 ) **二项分布与二项式定理之间的联系**

- 二项分布对应二项式定理的每一项
- 二项分布的概率求和是二项式定理的一个特殊情况，也就是 $p + q = 1$的情况

### 二项分布与两点分布之间的关系

**案例分析**

- 篮球比赛，每次罚球命中得1分，不中得0分，某篮球运动员罚球命中率为0.7，在某次比赛中他一共罚球20次，则
- (1) 他一次罚球的得分服从两点分布
- (2) 在这次比赛中，命中次数X服从二项分布即 $X \sim B(20, 0.7)$

**总结**

- **两点分布**：在一次试验中，事件A出现的概率为p，事件A不出现的概率为q=1-p，若以X记一次试验中A出现的次数，则X仅取0、1两个值。两点分布就是0-1分布, 是特殊的二项分布, 只是不同的叫法，也是试验次数为1的伯努利试验。$X \sim B(1,p)$
- **二项分布**：是重复n次独立的伯努利试验。在每次试验中只有两种可能的结果，而且两种结果发生与否互相对立，并且相互独立，与其它各次试验结果无关，事件发生与否的概率在每一次独立试验中都保持不变, 是试验次数为n次的伯努利试验。
- 两点分布是一种特殊的二项分布，n=1, p=p

### 二项分布与超几何分布之间的关系

**案例分析**

- 一个袋中放有M个红球，(N - M)个白球，依次从袋中取n个球，记下红球的个数X
- (1) 如果是有放回地取，则$X \sim B(n, \frac{M}{N})$
- (2) 如果是不放回地取，则X服从超几何分布 $P(X=k) = \frac{C_M^k C_{N-M}^{n-k}}{C_N^n} \ \ (k=0,1,2,...,m)$ 其中$m=min(M,n)$

**超几何分布的推导**

- 设有7个球，4红，3白，连续取3个球(n=3), 则红球的变量X为：(k ~ 0,1,2,3)
- 分类讨论：
    * X为0：白白白 =》$P(X=0) = \frac{3}{7} * \frac{2}{6} * \frac{1}{5}$
    * X为1：红白白、白红白、白白红 =》$P(X=1) = \frac{4}{7} * \frac{3}{6} * \frac{2}{5} + \frac{3}{7} * \frac{4}{6} * \frac{2}{5} + \frac{3}{7} * \frac{2}{6} * \frac{4}{5}$
    * X为2：类似上面，此处省略
    * X为3：类似上面，此处省略

- 关于[**超几何分布 百度百科**](https://baike.baidu.com/item/%E8%B6%85%E5%87%A0%E4%BD%95%E5%88%86%E5%B8%83/4782968)